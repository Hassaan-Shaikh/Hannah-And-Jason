[gd_scene load_steps=21 format=3 uid="uid://cd6oepy8alxa8"]

[ext_resource type="NavigationMesh" uid="uid://dxin2cg1qqenj" path="res://Resources/NavigationMesh Resources/HannahNavMesh.tres" id="1_05lw0"]
[ext_resource type="PackedScene" uid="uid://b88u2mk643itp" path="res://Scenes/Hannah.tscn" id="1_tssld"]
[ext_resource type="PackedScene" uid="uid://ccy1jdl8xb4xo" path="res://Scenes/Jason.tscn" id="2_3o78u"]
[ext_resource type="NavigationMesh" uid="uid://bufamhra507mf" path="res://Resources/NavigationMesh Resources/JasonNavMesh.tres" id="2_hdpy5"]
[ext_resource type="PackedScene" uid="uid://cxssi885lntcl" path="res://Scenes/PhysicalButton.tscn" id="3_xrwed"]
[ext_resource type="PackedScene" uid="uid://ugx7pm700e1s" path="res://Scenes/TimedButton.tscn" id="4_heriw"]
[ext_resource type="PackedScene" uid="uid://6spuhhdj4apo" path="res://Scenes/Lever.tscn" id="5_6302e"]
[ext_resource type="PackedScene" uid="uid://dsh3y2ej5e8ry" path="res://Scenes/PressurePlate.tscn" id="6_m06xk"]
[ext_resource type="Script" path="res://Scripts/CSharp/PressurePlateConfig.cs" id="7_52e6y"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ipgka"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_821oo"]
sky_material = SubResource("ProceduralSkyMaterial_ipgka")

[sub_resource type="Environment" id="Environment_si30k"]
background_mode = 2
sky = SubResource("Sky_821oo")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="PlaneMesh" id="PlaneMesh_6hgbj"]
size = Vector2(20, 20)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_iklq6"]
data = PackedVector3Array(10, 0, 10, -10, 0, 10, 10, 0, -10, -10, 0, 10, -10, 0, -10, 10, 0, -10)

[sub_resource type="BoxMesh" id="BoxMesh_qe8mr"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_hhbi6"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_4asqw"]

[sub_resource type="BoxMesh" id="BoxMesh_vvbpq"]

[sub_resource type="Resource" id="Resource_li2j4"]
resource_local_to_scene = true
resource_name = "Heavy Pressure Plate"
script = ExtResource("7_52e6y")
plateType = 1
weightThreshold = 12.0

[sub_resource type="Resource" id="Resource_7hbbf"]
resource_local_to_scene = true
resource_name = "Light Pressure Plate"
script = ExtResource("7_52e6y")
plateType = 0
weightThreshold = 0.0

[node name="TestingGround" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_si30k")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="HNavRegion" type="NavigationRegion3D" parent="."]
navigation_mesh = ExtResource("1_05lw0")

[node name="JNavRegion" type="NavigationRegion3D" parent="."]
navigation_mesh = ExtResource("2_hdpy5")
navigation_layers = 2

[node name="Floor" type="MeshInstance3D" parent="." groups=["navigation_mesh_source_group"]]
mesh = SubResource("PlaneMesh_6hgbj")

[node name="StaticBody3D" type="StaticBody3D" parent="Floor"]
collision_mask = 7

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_iklq6")

[node name="Wall1" type="MeshInstance3D" parent="." groups=["navigation_mesh_source_group"]]
transform = Transform3D(3.5, 0, 0, 0, 2, 0, 0, 0, 1, -1, 1, 2)
mesh = SubResource("BoxMesh_qe8mr")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall1"]
collision_mask = 15

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall1/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_hhbi6")

[node name="Wall2" type="MeshInstance3D" parent="." groups=["navigation_mesh_source_group"]]
transform = Transform3D(3.5, 0, 0, 0, 1.22284, 0, 0, 0, 4.08066, -4.7117, 1.79802, -4.29201)
mesh = SubResource("BoxMesh_qe8mr")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall2"]
collision_mask = 15

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_hhbi6")

[node name="Hannah" parent="." instance=ExtResource("1_tssld")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.73801, 0.486456, -3.89005)

[node name="Jason" parent="." instance=ExtResource("2_3o78u")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.56129, 0, 6.71742)

[node name="Box" type="RigidBody3D" parent="." groups=["navigation_mesh_source_group"]]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -1.49396, 1.08862, -0.487366)
collision_layer = 8
collision_mask = 15

[node name="CollisionShape3D" type="CollisionShape3D" parent="Box"]
shape = SubResource("BoxShape3D_4asqw")

[node name="BoxMesh" type="MeshInstance3D" parent="Box"]
mesh = SubResource("BoxMesh_vvbpq")

[node name="PhysicalButton" parent="." instance=ExtResource("3_xrwed")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -1.49396, 1.08862, 1.51263)

[node name="TimedButton" parent="." instance=ExtResource("4_heriw")]
transform = Transform3D(-4.37114e-08, 1, 4.37114e-08, 0, -4.37114e-08, 1, 1, 4.37114e-08, 1.91069e-15, 0.826488, 1.07741, 1.97314)

[node name="Lever" parent="." node_paths=PackedStringArray("conflictingLevers") instance=ExtResource("5_6302e")]
transform = Transform3D(1.91069e-15, -4.37114e-08, -1, -1, -4.37114e-08, 0, -4.37114e-08, 1, -4.37114e-08, -1.3266, 0.754289, 2.58739)
isConflicting = true
conflictingLevers = [NodePath("../Lever2")]

[node name="Lever2" parent="." instance=ExtResource("5_6302e")]
transform = Transform3D(-4.37114e-08, 0, -1, -1, -4.37114e-08, 4.37114e-08, -4.37114e-08, 1, 1.91069e-15, -0.0683179, 0.742323, 2.5308)

[node name="PressurePlate" parent="." instance=ExtResource("6_m06xk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.78228, -4.76837e-07, 2.20172)
plateConfiguration = SubResource("Resource_li2j4")

[node name="PressurePlate2" parent="." instance=ExtResource("6_m06xk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.29618, 0, -0.00487471)
plateConfiguration = SubResource("Resource_7hbbf")
